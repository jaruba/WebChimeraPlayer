/******************************************
 * Websanova.com
 *
 * Resources for web entrepreneurs
 *
 * @author          Websanova
 * @copyright       Copyright (c) 2012 Websanova.
 * @license         This websanova JSNova jQuery plugin is dual licensed under the MIT and GPL licenses.
 * @link            http://www.websanova.com
 * @docs            http://www.websanova.com/plugins/websanova/jsnova
 * @version         Version 1.0
 *
 ******************************************/
(function(b){b.fn.wJSNova=function(d,c){if(typeof d==="object"){c=d}else{if(typeof d==="string"){var e=this.data("_wJSNova");if(e){if(d=="resize"){e.resize();return true}else{if(b.fn.wJSNova.defaultSettings[d]!==undefined){if(c!==undefined){e.settings[d]=c;return true}else{return e.settings[d]}}else{return false}}}else{return false}}}c=b.extend({},b.fn.wJSNova.defaultSettings,c||{});return this.each(function(){var f=b(this);var h=jQuery.extend(true,{},c);var g=new a(h);f.append(g.generate());g.resize();f.data("_wJSNova",g)})};b.fn.wJSNova.defaultSettings={};function a(c){this.jsn=null;this.settings=c;this.menu=null;this.sidebar=null;this.jQueryVersion=null;this.jQueryUIVersion=null;this.jQueryUITheme=null;this.codeArea=null;this.boxHTML=null;this.boxCSS=null;this.boxJS=null;this.boxResult=null;return this}a.prototype={init:function(){this.resize()},generate:function(){var e=this;if(e.jsn){return e.jsn}var c=b('<span class="_wJSNova_menuButton">Run</span>').click(function(){e.run()});var d=b('<span class="_wJSNova_menuButton">Reset</span>').click(function(){e.reset()});e.menu=b('<div class="_wJSNova_menu"></div>').append(b('<div class="_wJSNova_menuPadding"></div>').append(c).append(' <span class="_wJSNova_menuBullet">&bull;</span> ').append(d));e.jQueryVersion=b('<select class="_wJSNova_sidebarSelect"></seletct>');b.each(["1.7.2","1.7.1","1.7.0","1.6.4","1.6.3","1.6.2","1.6.1","1.6.0","1.5.2","1.5.1","1.5.0","1.4.4","1.4.3","1.4.2","1.4.1","1.4.0","1.3.2","1.3.1","1.3.0","1.2.6","1.2.3"],function(g,f){e.jQueryVersion.append('<option value="https://ajax.googleapis.com/ajax/libs/jquery/'+f+'/jquery.min.js">jQuery '+f+"</option>")});e.jQueryUIVersion=b('<select class="_wJSNova_sidebarSelect"></seletct>');b.each(["1.8.18","1.8.17","1.8.16","1.8.15","1.8.14","1.8.13","1.8.12","1.8.11","1.8.10","1.8.9","1.8.8","1.8.7","1.8.6","1.8.5","1.8.4","1.8.2","1.8.1","1.8.0","1.7.3","1.7.2","1.7.1","1.7.0","1.6.0","1.5.3","1.5.2"],function(g,f){e.jQueryUIVersion.append('<option value="https://ajax.googleapis.com/ajax/libs/jqueryui/'+f+'/jquery-ui.min.js">jQuery UI '+f+"</option>")});e.jQueryUITheme=b('<select class="_wJSNova_sidebarSelect"></seletct>');b.each(["base","black-tie","blitzer","cupertino","dot-luv","excite-bike","hot-sneaks","humanity","mint-choc","redmond","smoothness","south-street","start","swanky-purse","trontastic","ui-darkness","ui-lightness","vader"],function(g,f){e.jQueryUITheme.append('<option value="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/'+f+'/jquery-ui.css">'+f+"</option>")});e.sidebar=b('<div class="_wJSNova_sidebar"></div>').append(b('<div class="_wJSNova_sidebarPadding"></div>').append('<div class="_wJSNova_sidebarLabel">jQuery Version:</div>').append(e.jQueryVersion).append('<div class="_wJSNova_sidebarLabel">jQuery UI Version:</div>').append(e.jQueryUIVersion).append('<div class="_wJSNova_sidebarLabel">jQuery UI Theme:</div>').append(e.jQueryUITheme));e.boxHTML=b('<textarea class="_wJSNova_boxEdit"></textarea>');e.boxCSS=b('<textarea class="_wJSNova_boxEdit"></textarea>');e.boxJS=b('<textarea class="_wJSNova_boxEdit"></textarea>');e.boxResult=b('<iframe id="iframe" class="_wJSNova_boxEdit" frameBorder="0"></iframe>');b.each([e.boxHTML,e.boxCSS,e.boxJS,e.boxResult],function(f,g){g.focus(function(){b(this).parent().children("._wJSNova_boxLabel").fadeOut()}).blur(function(){b(this).parent().children("._wJSNova_boxLabel").fadeIn()})});e.codeArea=b('<div class="_wJSNova_codeArea"></div>').append(b('<table class="_wJSNova_codeAreaTable" cellpadding="0" cellspacing="1"></table>').append(b("<tr></tr>").append(b('<td class="_wJSNova_box _wJSNova_boxTop _wJSNova_boxLeft"></td>').append(b('<div class="_wJSNova_boxContainer"></div>').append(e.boxHTML).append('<div class="_wJSNova_boxLabel">HTML</div>'))).append(b('<td class="_wJSNova_box _wJSNova_boxTop _wJSNova_boxRight"></td>').append(b('<div class="_wJSNova_boxContainer"></div>').append(e.boxCSS).append('<div class="_wJSNova_boxLabel">CSS</div>')))).append(b("<tr></tr>").append(b('<td class="_wJSNova_box _wJSNova_boxBottom _wJSNova_boxLeft"></td>').append(b('<div class="_wJSNova_boxContainer"></div>').append(e.boxJS).append('<div class="_wJSNova_boxLabel">JavaScript</div>'))).append(b('<td class="_wJSNova_box _wJSNova_boxBottom _wJSNova_boxRight"></td>').append(b('<div class="_wJSNova_boxContainer"></div>').append(e.boxResult).append('<div class="_wJSNova_boxLabel">Result</div>')))));e.jsn=b('<div class="_wJSNova_holder"></div>').append(e.menu).append(e.sidebar).append(e.codeArea);return e.jsn},run:function(){var f=this.boxHTML.val();var e=this.boxCSS.val();var i=this.boxJS.val();var h='<script type="text/javascript" src="'+this.jQueryVersion.val()+'"><\/script>';var g='<script type="text/javascript" src="'+this.jQueryUIVersion.val()+'"><\/script>';var d='<link rel="stylesheet" type="text/css" href="'+this.jQueryUITheme.val()+'"/>';var c="<html><head>"+h+d+g+"<style>"+e+"</style></head><body>"+f+'<script type="text/javascript">'+i+"<\/script></body></html>";this.writeResult(c)},reset:function(){this.boxHTML.val("");this.boxCSS.val("");this.boxJS.val("");this.writeResult("")},writeResult:function(c){var d=this.boxResult[0];if(d.contentDocument){doc=d.contentDocument}else{if(d.contentWindow){doc=d.contentWindow.document}else{doc=d.document}}doc.open();doc.writeln(c);doc.close()},resize:function(){var e=this.menu.outerHeight(true);var d=this.jsn.outerHeight(true)-e;var c=this.jsn.outerWidth(true)-this.sidebar.outerWidth(true);this.sidebar.css({top:e,height:d});this.codeArea.css({top:e,height:d,width:c})}}})(jQuery);